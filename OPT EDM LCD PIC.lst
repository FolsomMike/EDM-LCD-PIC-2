MPASM  5.43               OPT EDM LCD PIC.ASM   2-29-2012  22:02:14         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;--------------------------------------------------------------------------------------------------
                      00002 ; Project:  OPT EDM Notch Cutter -- LCD PIC software
                      00003 ; Date:     2/29/12
                      00004 ; Revision: 1.0
                      00005 ;
                      00006 ; IMPORTANT: When programming the PIC in the notch cutter, turn the Electrode Current switch to
                      00007 ; Off and the Electrode Motion switch to Setup.
                      00008 ;
                      00009 ; Normally, the programming header for the LCD PIC is not installed on the board.  It can be
                      00010 ; installed in the Main PIC socket, programmed, and then moved to the LCD PIC socket.
                      00011 ;
                      00012 ; Overview:
                      00013 ;
                      00014 ; This program reads serial data sent by the Main PIC and displays it on the LCD.
                      00015 ;
                      00016 ; There are two PIC controllers on the board -- the Main PIC and the LCD PIC.  This code is
                      00017 ; for the LCD PIC.  The Main PIC sends data to the LCD PIC via a serial data line for display
                      00018 ; on the LCD.
                      00019 ;
                      00020 ;--------------------------------------------------------------------------------------------------
                      00021 ;
                      00022 ; Revision History:
                      00023 ;
                      00024 ; 1.0   Some code and concepts used from source code disassembled from hex object code version ?.? 
                      00025 ;       from original author.
                      00026 ;
                      00027 ;--------------------------------------------------------------------------------------------------
                      00028 ;
                      00029 ;--------------------------------------------------------------------------------------------------
                      00030 ; LCD Notes for the OPT EDM Control Board I
                      00031 ;
                      00032 ; Optrex C-51847NFJ-SLW-ADN 20 characters by 4 lines
                      00033 ;
                      00034 ; The user manual specified for this display is Dmcman_full-user manual.pdf from www.optrex.com
                      00035 ; This manual does not list this exact part number, but seems to be the appropriate manual.
                      00036 ;
                      00037 ; The R/W line is tied permanently low on the board, so only writes to the LCD are allowed.
                      00038 ;
                      00039 ; The E line is used to strobe the read/write operations.
                      00040 ;
                      00041 ;--------------------------------------------------------------------------------------------------
                      00042 
                      00043 ;--------------------------------------------------------------------------------------------------
                      00044 ; Configurations, etc. for the Assembler Tools and the PIC
                      00045 
                      00046         LIST p = PIC16F648a     ;select the processor
                      00047 
                      00048     errorlevel  -306 ; Suppresses Message[306] Crossing page boundary -- ensure page bits are set.
                      00049 
                      00050     errorLevel  -302 ; Suppresses Message[302] Register in operand not in bank 0.
                      00051 
                      00052 #INCLUDE <P16f648a.inc>                 ; Microchip Device Header File
                      00001         LIST
MPASM  5.43               OPT EDM LCD PIC.ASM   2-29-2012  22:02:14         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00002 
                      00003 ;==========================================================================
                      00004 ;  MPASM PIC16F648A processor include
                      00005 ; 
                      00006 ;  (c) Copyright 1999-2011 Microchip Technology, All rights reserved
                      00007 ;==========================================================================
                      00008 
                      00382         LIST
                      00053 
                      00054 #INCLUDE <STANDARD.MAC>         ; include standard macros
                      00001 ;--------------------------------------------------------------------------------------------------
                      00002 ; MKSystems / Curt Irvin
                      00003 ;
                      00004 ; Project:  Macros for all PIC projects
                      00005 ; Date:     4/21/01
                      00006 ; Authors:  Mike Schoonover, Curt Irvin
                      00007 ; Revision: 1.0
                      00008 ;
                      00009 ; Overview:
                      00010 ;
                      00011 ; These macros are useful for most PIC software projects.
                      00012 ;
                      00013 ;
                      00014 ;--------------------------------------------------------------------------------------------------
                      00015 
                      00016 ;--------------------------------------------------------------------------------------------------
                      00017 ; PUSH_MACRO
                      00018 ;
                      00019 ; Stores W, STATUS, PCLATH, and FSR registers in W_TEMP, STATUS_TEMP, PCLATH_TEMP, and FSR_TEMP
                      00020 ; registers.
                      00021 ;
                      00022 ; NOTES:
                      00023 ;
                      00024 ; W_TEMP, STATUS_TEMP, PCLATH_TEMP and FSR_TEMP registers must be defined by the main program file
                      00025 ; in the register area common to all four data memory banks (0x70 to 0x7f for the PIC16F876).
                      00026 ;
                      00027 ; This macro should only be used for PICs with common register areas in all 4 memory banks.  See
                      00028 ; MicroChip reference manuals for creating a macro for other PICs.
                      00029 ;
                      00030 
                      00031 
                      00032 PUSH_MACRO MACRO
                      00033 
                      00034         movwf   W_TEMP                  ; copy W to a temporary register
                      00035                                         ; regardless of current bank
                      00036         swapf   STATUS,W                ; swap STATUS nibbles and place into W register
                      00037                                         ; (swap is used because it does not affect any status
                      00038                                         ; bits - problematic when trying to save the status
                      00039                                         ; register itself - must be swapped again to restore)
                      00040         movwf   STATUS_TEMP             ; save STATUS to a temporary register
                      00041 
                      00042         movf    PCLATH,W                ; store PCLATH
                      00043         movwf   PCLATH_TEMP
MPASM  5.43               OPT EDM LCD PIC.ASM   2-29-2012  22:02:14         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00044 
                      00045         movf    FSR,W                   ; store FSR
                      00046         movwf   FSR_TEMP
                      00047 
                      00048         ENDM                            ; end this macro
                      00049 
                      00050 ;end of PUSH_MACRO
                      00051 ;--------------------------------------------------------------------------------------------------
                      00052 
                      00053 ;--------------------------------------------------------------------------------------------------
                      00054 ; POP_MACRO
                      00055 ;
                      00056 ; Restores W, STATUS, PCLATH, and FSR registers from W_TEMP, STATUS_TEMP, PCLATH_TEMP and FSR_TEMP
                      00057 ; registers.
                      00058 ;
                      00059 ; See PUSH_MACRO for more information.
                      00060 ;
                      00061 
                      00062 POP_MACRO MACRO
                      00063 
                      00064         movf    FSR_TEMP,W              ; restore FSR
                      00065         movwf   FSR
                      00066 
                      00067         movf    PCLATH_TEMP,W           ; restore PCLATH
                      00068         movwf   PCLATH
                      00069 
                      00070         swapf   STATUS_TEMP,W           ; swap original STATUS register value into W
                      00071         movwf   STATUS                  ; restore the STATUS register
                      00072 
                      00073         swapf   W_TEMP,F                ; swap W_Temp nibbles (temporarily)
                      00074         swapf   W_TEMP,W                ; swap again and move to W to restore original
                      00075                                         ; (use swap to avoid affecting STATUS bits)
                      00076 
                      00077         ENDM                            ; end this macro
                      00078 
                      00079 ;end of POP_MACRO
                      00080 ;--------------------------------------------------------------------------------------------------
                      00055 
                      00056 ; Specify Device Configuration Bits
                      00057 
2007   3F51           00058   __CONFIG _INTOSC_OSC_CLKOUT & _WDT_OFF & _PWRTE_ON & _MCLRE_OFF & _BOREN_ON & _LVP_OFF & _CPD_OFF & _C
                            P_OFF
                      00059 
                      00060 ;_INTOSC_OSC_CLKOUT = uses internal oscillator, clock is output on RA6
                      00061 ;_WDT_OFF = watch dog timer is off
                      00062 ;_PWRTE_ON = device will delay startup after power applied to ensure stable operation
                      00063 ;_MCLRE_OFF = RA5/MCLR/VPP pin function is digital input, MCLR internally to VDD
                      00064 ;_BOREN_ON = Brown Out Reset is on -- low supply voltage will cause device reset
                      00065 ;_LVP_OFF = RB4/PGM is digital I/O, HV on MCLR must be used for programming
                      00066 ;           (device cannot be programmed in system with low voltage)
                      00067 ;_CPD_OFF = data memory is not protected and can be read from the device
                      00068 ;_CP_OFF = code memory is not protected and can be read from the device
                      00069 ;
MPASM  5.43               OPT EDM LCD PIC.ASM   2-29-2012  22:02:14         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00070 ;for improved reliability, Watch Dog code can be added and the Watch Dog Timer turned on - _WDT_ON
                      00071 ;turn on code protection to keep others from reading the code from the chip - _CP_ON
                      00072 ;
                      00073 ; end of configurations
                      00074 ;--------------------------------------------------------------------------------------------------
                      00075 
                      00076 ;--------------------------------------------------------------------------------------------------
                      00077 ; Hardware Definitions
                      00078 
  00000005            00079 LCD_CTRL        EQU     0x05            ; PORTA
  00000000            00080 SERIAL_IN               EQU             0x00            ; RA0
  00000001            00081 LCD_E           EQU     0x01            ; RA1 - data read/write strobe
  00000002            00082 LCD_RS                  EQU             0x02            ; RA2 - instruction/data register select
  00000003            00083 UNUSED1                 EQU             0x03
  00000004            00084 UNUSED2                 EQU             0X04
                      00085 
  00000006            00086 LCD_DATA        EQU     0x06            ; PORTB
                      00087 
                      00088 ; end of Hardware Definitions
                      00089 ;--------------------------------------------------------------------------------------------------
                      00090 
                      00091 ;--------------------------------------------------------------------------------------------------
                      00092 ; Power On and Reset Vectors
                      00093 ;
                      00094 
0000                  00095         org     0x00                            ; Start of Program Memory
                      00096 
                      00097 ; none of the other vectors are used, so the program just starts executing at the reset vector
                      00098 ; location
                      00099 
0000                  00100 Start:
                      00101 
0000   018B           00102     clrf    INTCON          ; disable all interrupts
                      00103 
0001   3007           00104         movlw   0x07                    ; turn off comparator, PortA pins set for I/O                   
                                       
0002   009F           00105         movwf   CMCON           ; 7 -> Comparator Control Register to disable comparator inputs
                      00106 
0003   1683           00107         bsf     STATUS,RP0              ; select bank 1                       
                      00108 
0004   3001           00109         movlw   0x01                              
0005   0085           00110         movwf   TRISA                   ; 0x01 -> TRISA = PortA I/O 0000 0001 (1=input, 0=output)
                      00111                                                 ;       RA0 - Input : receives serial input data
                      00112                                                         ;       RA1 - Output: E strobe to initiate LCD R
                            /W
                      00113                                                         ;       RA2 - Output: Register Select for LCD
                      00114                                                         ;       RA3 - Output: unused (tied high for some
                             reason)
                      00115                                                         ;       RA4 - Output: unused (tied high for some
                             reason)
                      00116                                                         ;       RA5 - Vpp for PIC programming, unused ot
                            herwise
                      00117                                                         ;       RA6 - unused (unconnected)
MPASM  5.43               OPT EDM LCD PIC.ASM   2-29-2012  22:02:14         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00118                                                         ;       RA7 - unused (unconnected)
0006   3000           00119         movlw   0x00
0007   0086           00120         movwf   TRISB                   ; 0x00 -> TRISB = PortB I/O 0000 0000 (1=input, 0=output)
                      00121                                                         ;       port B outputs data to the LCD display
                      00122                                                         ;       RB6 is also used for programming the PIC
                      00123                                                         ;       RB7 is also used for programming the PIC
                      00124 
0008   1283           00125         bcf     STATUS,RP0              ; select bank 0                          
                      00126 
0009   3000           00127         movlw   0x00                                                    
000A   0086           00128         movwf   PORTB                   ; set Port B outputs low                              
                      00129 
000B   1085           00130         bcf             PORTA,LCD_E     ; set LCD E strobe low (inactive)
000C   1105           00131         bcf             PORTA,LCD_RS    ; set LCD Register Select low (chooses instruction register)
000D   1585           00132         bsf             PORTA,UNUSED1   ; set high to match pullup (unused)
000E   1205           00133         bcf             PORTA,UNUSED2   ; set high to match pullup (unused)
                      00134                     
000F   20AF           00135         call    bigDelay                ; should wait more than 15ms after Vcc = 4.5V
0010   207F           00136     call    initLCD
                      00137 
0011   3080           00138         movlw   0x80                             
0012   00EE           00139         movwf   0x6e                             
0013   20A1           00140     call    L2b        ;(0xa0)
0014   304F           00141         movlw   0x4f                             
0015   00EE           00142         movwf   0x6e                             
0016   2099           00143     call    L3b        ;(0x98)
0017   3050           00144         movlw   0x50                             
0018   00EE           00145         movwf   0x6e                             
0019   2099           00146     call    L3b        ;(0x98)
001A   3054           00147         movlw   0x54                             
001B   00EE           00148         movwf   0x6e                             
001C   2099           00149     call    L3b        ;(0x98)
001D   3020           00150         movlw   0x20                             
001E   00EE           00151         movwf   0x6e                             
001F   2099           00152     call    L3b        ;(0x98)
0020   3045           00153         movlw   0x45                             
0021   00EE           00154         movwf   0x6e                             
0022   2099           00155     call    L3b        ;(0x98)
0023   3044           00156         movlw   0x44                             
0024   00EE           00157         movwf   0x6e                             
0025   2099           00158     call    L3b        ;(0x98)
0026   304D           00159         movlw   0x4d                             
0027   00EE           00160         movwf   0x6e                             
0028   2099           00161     call    L3b        ;(0x98)
0029   30C1           00162         movlw   0xc1                             
002A   00EE           00163         movwf   0x6e                             
002B   20A1           00164     call    L2b        ;(0xa0)
002C   304E           00165         movlw   0x4e                             
002D   00EE           00166         movwf   0x6e                             
002E   2099           00167     call    L3b        ;(0x98)
002F   306F           00168         movlw   0x6f                             
0030   00EE           00169         movwf   0x6e                             
0031   2099           00170     call    L3b        ;(0x98)
MPASM  5.43               OPT EDM LCD PIC.ASM   2-29-2012  22:02:14         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0032   3074           00171         movlw   0x74                             
0033   00EE           00172         movwf   0x6e                             
0034   2099           00173     call    L3b        ;(0x98)
0035   3063           00174         movlw   0x63                             
0036   00EE           00175         movwf   0x6e                             
0037   2099           00176     call    L3b        ;(0x98)
0038   3068           00177         movlw   0x68                             
0039   00EE           00178         movwf   0x6e                             
003A   2099           00179     call    L3b        ;(0x98)
003B   3065           00180         movlw   0x65                             
003C   00EE           00181         movwf   0x6e                             
003D   2099           00182     call    L3b        ;(0x98)
003E   3072           00183         movlw   0x72                             
003F   00EE           00184         movwf   0x6e                             
0040   2099           00185     call    L3b        ;(0x98)
0041   3096           00186         movlw   0x96                             
0042   00EE           00187         movwf   0x6e                             
0043   20A1           00188     call    L2b        ;(0xa0)
0044   3062           00189         movlw   0x62                             
0045   00EE           00190         movwf   0x6e                             
0046   2099           00191     call    L3b        ;(0x98)
0047   3079           00192         movlw   0x79                             
0048   00EE           00193         movwf   0x6e                             
0049   2099           00194     call    L3b        ;(0x98)
004A   3020           00195         movlw   0x20                             
004B   00EE           00196         movwf   0x6e                             
004C   2099           00197     call    L3b        ;(0x98)
004D   3043           00198         movlw   0x43                             
004E   00EE           00199         movwf   0x6e                             
004F   2099           00200     call    L3b        ;(0x98)
0050   304D           00201         movlw   0x4d                             
0051   00EE           00202         movwf   0x6e                             
0052   2099           00203     call    L3b        ;(0x98)
0053   3050           00204         movlw   0x50                             
0054   00EE           00205         movwf   0x6e                             
0055   2099           00206     call    L3b        ;(0x98)
0056   30D7           00207         movlw   0xd7                             
0057   00EE           00208         movwf   0x6e                             
0058   20A1           00209     call    L2b        ;(0xa0)
0059   3052           00210         movlw   0x52                             
005A   00EE           00211         movwf   0x6e                             
005B   2099           00212     call    L3b        ;(0x98)
005C   3065           00213         movlw   0x65                             
005D   00EE           00214         movwf   0x6e                             
005E   2099           00215     call    L3b        ;(0x98)
005F   3076           00216         movlw   0x76                             
0060   00EE           00217         movwf   0x6e                             
0061   2099           00218     call    L3b        ;(0x98)
0062   3020           00219         movlw   0x20                             
0063   00EE           00220         movwf   0x6e                             
0064   2099           00221     call    L3b        ;(0x98)
0065   3032           00222         movlw   0x32                             
0066   00EE           00223         movwf   0x6e                             
MPASM  5.43               OPT EDM LCD PIC.ASM   2-29-2012  22:02:14         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0067   2099           00224     call    L3b        ;(0x98)
0068   302E           00225         movlw   0x2e                             
0069   00EE           00226         movwf   0x6e                             
006A   2099           00227     call    L3b        ;(0x98)
006B   3036           00228         movlw   0x36                             
006C   00EE           00229         movwf   0x6e                             
006D   2099           00230     call    L3b        ;(0x98)
                      00231 
006E                  00232 L5b:
006E   01EA           00233         clrf    0x6a                              
006F   20BA           00234     call    L4b        ;(0xb9)
0070   086A           00235         movf    0x6a,w                           
0071   00ED           00236         movwf   0x6d                             
0072   01EA           00237         clrf    0x6a                              
0073   20BA           00238     call    L4b        ;(0xb9)
0074   086A           00239         movf    0x6a,w                           
0075   00EE           00240         movwf   0x6e                             
0076   086D           00241         movf    0x6d,w                       
0077   3C00           00242         sublw   0                                
0078   1903           00243         btfsc   0x3,0x2                         
0079   2099           00244     call    L3b        ;(0x98)
007A   086D           00245         movf    0x6d,w                           
007B   3C01           00246         sublw   0x1                              
007C   1903           00247         btfsc   0x3,0x2                         
007D   20A1           00248     call    L2b        ;(0xa0)
007E   286E           00249     goto    L5b        ;(0x6d)
                      00250 
                      00251 ;--------------------------------------------------------------------------------------------------
                      00252 ; initLCD
                      00253 ;
                      00254 ; Initialize the LCD display.
                      00255 ;
                      00256 ; See Dmcman_full-user manual.pdf from www.optrex.com for details.
                      00257 ;
                      00258 
007F                  00259 zzz
                      00260 
  00000005            00261 LCD_CTRL        EQU     0x05            ; PORTA
  00000000            00262 SERIAL_IN               EQU             0x00            ; RA0
  00000001            00263 LCD_E           EQU     0x01            ; RA1 - data read/write strobe
  00000002            00264 LCD_RS                  EQU             0x02            ; RA2 - instruction/data register select
  00000003            00265 UNUSED1                 EQU             0x03
  00000004            00266 UNUSED2                 EQU             0X04
                      00267 
  00000006            00268 LCD_DATA        EQU     0x06            ; PORTB
                      00269 
007F                  00270 initLCD:
                      00271 
007F   1085           00272         bcf             LCD_CTRL,LCD_E          ; LCD E strobe low                          
0080   1105           00273         bcf             LCD_CTRL, LCD_RS    ; LCD RS low (instruction register selected)                
                                   
0081   20AA           00274     call    smallDelay                  ; wait a bit
0082   3030           00275         movlw   0x30                             
MPASM  5.43               OPT EDM LCD PIC.ASM   2-29-2012  22:02:14         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0083   0086           00276         movwf   LCD_DATA                        ; prepare to write 0x30 to LCD                          
                                
0084   20B5           00277     call    strobeE
0085   20AF           00278     call    bigDelay        ;(0xae)
0086   3030           00279         movlw   0x30                             
0087   0086           00280         movwf   0x6                              
0088   20B5           00281     call    strobeE
0089   20AA           00282     call    smallDelay
008A   3030           00283         movlw   0x30                             
008B   0086           00284         movwf   0x6                              
008C   20B5           00285     call    strobeE
008D   20AA           00286     call    smallDelay
008E   3038           00287         movlw   0x38                             
008F   0086           00288         movwf   0x6                              
0090   20B5           00289     call    strobeE
0091   300C           00290         movlw   0xc                              
0092   0086           00291         movwf   0x6                              
0093   20B5           00292     call    strobeE
0094   3006           00293         movlw   0x6                              
0095   0086           00294         movwf   0x6                              
0096   20B5           00295     call    strobeE
0097   20AF           00296     call    bigDelay        ;(0xae)
0098   0008           00297         return
                      00298 
                      00299 ; end of initLCD
                      00300 ;--------------------------------------------------------------------------------------------------
                      00301 
                      00302                                  
0099                  00303 L3b:
0099   1085           00304         bcf             0x5,0x1                           
009A   1505           00305         bsf             0x5,0x2                           
009B   20AA           00306     call    smallDelay
009C   086E           00307         movf    0x6e, w                           
009D   0086           00308         movwf   0x6                              
009E   20B5           00309     call    strobeE
009F   20AA           00310     call    smallDelay
00A0   0008           00311         return
                      00312                                  
00A1                  00313 L2b:
00A1   1085           00314         bcf     0x5,0x1                           
00A2   1105           00315         bcf     0x5,0x2                           
00A3   20AA           00316     call    smallDelay
00A4   086E           00317         movf    0x6e,w                           
00A5   0086           00318         movwf   0x6                              
00A6   20B5           00319     call    strobeE
00A7   1505           00320         bsf             0x5,0x2                           
00A8   20AA           00321     call    smallDelay
00A9   0008           00322         return
                      00323 
                      00324 ;--------------------------------------------------------------------------------------------------
                      00325 ; smallDelay
                      00326 ;
                      00327 ; Creates a small delay.
MPASM  5.43               OPT EDM LCD PIC.ASM   2-29-2012  22:02:14         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00328 ;
                      00329                                  
00AA                  00330 smallDelay:
00AA   302A           00331         movlw   0x2a                             
00AB   00E8           00332         movwf   0x68
                      00333                              
00AC                  00334 L8b:
00AC   0BE8           00335         decfsz  0x68, f                         
00AD   28AC           00336     goto    L8b
00AE   0008           00337         return
                      00338 
                      00339 ; end of smallDelay
                      00340 ;--------------------------------------------------------------------------------------------------
                      00341 
                      00342 ;--------------------------------------------------------------------------------------------------
                      00343 ; bigDelay
                      00344 ;
                      00345 ; Creates a big delay.
                      00346 ;
                      00347                                  
00AF                  00348 bigDelay:
                      00349 
00AF   3028           00350         movlw   0x28                             
00B0   00E9           00351         movwf   0x69                             
00B1   20AA           00352     call        smallDelay
                      00353 
00B2                  00354 L9b:
00B2   0BE9           00355         decfsz  0x69,f                         
00B3   28B2           00356     goto    L9b
00B4   0008           00357         return
                      00358 
                      00359 ; end of bigDelay
                      00360 ;--------------------------------------------------------------------------------------------------
                      00361 
                      00362 ;--------------------------------------------------------------------------------------------------
                      00363 ; strobeE
                      00364 ;
                      00365 ; Strobes LCD E line to read/write data to the LCD and then delays for a bit.
                      00366 ;
                      00367 
00B5                  00368 strobeE:
                      00369 
00B5   1485           00370         bsf             LCD_CTRL,LCD_E
00B6   0000           00371         nop                                    
00B7   1085           00372         bcf             LCD_CTRL,LCD_E
00B8   20AA           00373     call    smallDelay
00B9   0008           00374         return
                      00375 
                      00376 ; end of strobeE
                      00377 ;--------------------------------------------------------------------------------------------------
                      00378 
                      00379                                  
00BA                  00380 L4b:
MPASM  5.43               OPT EDM LCD PIC.ASM   2-29-2012  22:02:14         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00BA   128B           00381         bcf             0xb,0x5                           
00BB   138B           00382         bcf             0xb,0x7                           
00BC   0181           00383         clrf    0x1                               
00BD   0064           00384         clrwdt                                 
00BE   1683           00385         bsf             0x3,0x5                           
00BF   3058           00386         movlw   0x58                             
00C0   0081           00387         movwf   0x1                              
00C1   1283           00388         bcf             0x3,0x5                           
00C2   3008           00389         movlw   0x8                              
00C3   00EB           00390         movwf   0x6b                             
                      00391         
00C4                  00392 L10b:
00C4   1805           00393         btfsc   0x5,0                           
00C5   28C4           00394     goto    L10b        ;(0xc3)
00C6   30E2           00395         movlw   0xe2                             
00C7   0081           00396         movwf   0x1                              
00C8   110B           00397         bcf             0xb,0x2                           
                      00398 
00C9                  00399 L11b:
00C9   1D0B           00400         btfss   0xb,0x2                         
00CA   28C9           00401     goto    L11b        ;(0xc8)
00CB   1805           00402         btfsc   0x5,0                           
00CC   28C4           00403     goto    L10b        ;(0xc3)
                      00404 
00CD                  00405 L13b:
00CD   30CE           00406         movlw   0xce                             
00CE   0081           00407         movwf   0x1                              
00CF   110B           00408         bcf             0xb,0x2
                      00409 
00D0                  00410 L12b:
00D0   1D0B           00411         btfss   0xb,0x2                         
00D1   28D0           00412     goto    L12b        ;(0xcf)
00D2   110B           00413         bcf             0xb,0x2                           
00D3   0805           00414         movf    0x5,w                            
00D4   00EC           00415         movwf   0x6c                             
00D5   0CEC           00416         rrf             0x6c,f                            
00D6   0DEA           00417         rlf             0x6a,f                            
00D7   0BEB           00418         decfsz  0x6b,f                         
00D8   28CD           00419     goto    L13b        ;(0xcc)
                      00420  
00D9   0008           00421         return                                 
                      00422  
                      00423     END
MPASM  5.43               OPT EDM LCD PIC.ASM   2-29-2012  22:02:14         PAGE 11


SYMBOL TABLE
  LABEL                             VALUE 

ADDEN                             00000003
ADEN                              00000003
BRGH                              00000002
C                                 00000000
C1INV                             00000004
C1OUT                             00000006
C2INV                             00000005
C2OUT                             00000007
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCPR1                             00000015
CCPR1H                            00000016
CCPR1L                            00000015
CIS                               00000003
CM0                               00000000
CM1                               00000001
CM2                               00000002
CMCON                             0000001F
CMIE                              00000006
CMIF                              00000006
CREN                              00000004
CSRC                              00000007
DATA_CP_OFF                       00003FFF
DATA_CP_ON                        00003EFF
DC                                00000001
EEADR                             0000009B
EECON1                            0000009C
EECON2                            0000009D
EEDATA                            0000009A
EEIE                              00000007
EEIF                              00000007
F                                 00000001
FERR                              00000002
FSR                               00000004
GIE                               00000007
INDF                              00000000
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
L10b                              000000C4
L11b                              000000C9
L12b                              000000D0
L13b                              000000CD
L2b                               000000A1
MPASM  5.43               OPT EDM LCD PIC.ASM   2-29-2012  22:02:14         PAGE 12


SYMBOL TABLE
  LABEL                             VALUE 

L3b                               00000099
L4b                               000000BA
L5b                               0000006E
L8b                               000000AC
L9b                               000000B2
LCD_CTRL                          00000005
LCD_DATA                          00000006
LCD_E                             00000001
LCD_RS                            00000002
NOT_BO                            00000000
NOT_BOD                           00000000
NOT_BOR                           00000000
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_T1SYNC                        00000002
NOT_TO                            00000004
OERR                              00000001
OPTION_REG                        00000081
OSCF                              00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PIE1                              0000008C
PIR1                              0000000C
POP_MACRO                         
PORTA                             00000005
PORTB                             00000006
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PUSH_MACRO                        
RA0                               00000000
RA1                               00000001
RA2                               00000002
RA3                               00000003
RA4                               00000004
RA5                               00000005
RA6                               00000006
RA7                               00000007
RB0                               00000000
RB1                               00000001
RB2                               00000002
RB3                               00000003
RB4                               00000004
RB5                               00000005
RB6                               00000006
RB7                               00000007
RBIE                              00000003
RBIF                              00000000
MPASM  5.43               OPT EDM LCD PIC.ASM   2-29-2012  22:02:14         PAGE 13


SYMBOL TABLE
  LABEL                             VALUE 

RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
RP0                               00000005
RP1                               00000006
RX9                               00000006
RX9D                              00000000
SERIAL_IN                         00000000
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
STATUS                            00000003
SYNC                              00000004
Start                             00000000
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1OSCEN                           00000003
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA3                            00000003
TRISA4                            00000004
TRISA5                            00000005
TRISA6                            00000006
TRISA7                            00000007
MPASM  5.43               OPT EDM LCD PIC.ASM   2-29-2012  22:02:14         PAGE 14


SYMBOL TABLE
  LABEL                             VALUE 

TRISB                             00000086
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
TRMT                              00000001
TX9                               00000006
TX9D                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UNUSED1                           00000003
UNUSED2                           00000004
VR0                               00000000
VR1                               00000001
VR2                               00000002
VR3                               00000003
VRCON                             0000009F
VREN                              00000007
VROE                              00000006
VRR                               00000005
W                                 00000000
WR                                00000001
WREN                              00000002
WRERR                             00000003
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_BOREN_OFF                        00003FBF
_BOREN_ON                         00003FFF
_CONFIG                           00002007
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_OFF                           00003FFF
_CP_ON                            00001FFF
_DEVID1                           00002006
_ER_OSC_CLKOUT                    00003FFF
_ER_OSC_NOCLKOUT                  00003FFE
_EXTCLK_OSC                       00003FEF
_FOSC_ECIO                        00003FEF
_FOSC_EXTRCCLK                    00003FFF
_FOSC_EXTRCIO                     00003FFE
_FOSC_HS                          00003FEE
_FOSC_INTOSCCLK                   00003FFD
_FOSC_INTOSCIO                    00003FFC
_FOSC_LP                          00003FEC
_FOSC_XT                          00003FED
MPASM  5.43               OPT EDM LCD PIC.ASM   2-29-2012  22:02:14         PAGE 15


SYMBOL TABLE
  LABEL                             VALUE 

_HS_OSC                           00003FEE
_IDLOC0                           00002000
_IDLOC1                           00002001
_IDLOC2                           00002002
_IDLOC3                           00002003
_INTOSC_OSC_CLKOUT                00003FFD
_INTOSC_OSC_NOCLKOUT              00003FFC
_INTRC_OSC_CLKOUT                 00003FFD
_INTRC_OSC_NOCLKOUT               00003FFC
_LP_OSC                           00003FEC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_MCLRE_OFF                        00003FDF
_MCLRE_ON                         00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC_CLKOUT                    00003FFF
_RC_OSC_NOCLKOUT                  00003FFE
_WDTE_OFF                         00003FFB
_WDTE_ON                          00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_XT_OSC                           00003FED
__16F648A                         00000001
__DEBUG                           1
bigDelay                          000000AF
initLCD                           0000007F
smallDelay                        000000AA
strobeE                           000000B5
zzz                               0000007F


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXX------ ---------------- ----------------
2000 : -------X-------- ---------------- ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used:   218
Program Memory Words Free:  3878


Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :     0 reported,     2 suppressed

